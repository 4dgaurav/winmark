window.Modernizr=function(e,t,n){function r(e){m.cssText=e}function i(e,t){return r(b.join(e+";")+(t||""))}function s(e,t){return typeof e===t}function o(e,t){return!!~(""+e).indexOf(t)}function u(e,t){for(var r in e)if(m[e[r]]!==n)return t=="pfx"?e[r]:!0;return!1}function a(e,t,r){for(var i in e){var o=t[e[i]];if(o!==n)return r===!1?e[i]:s(o,"function")?o.bind(r||t):o}return!1}function f(e,t,n){var r=e.charAt(0).toUpperCase()+e.substr(1),i=(e+" "+E.join(r+" ")+r).split(" ");return s(t,"string")||s(t,"undefined")?u(i,t):(i=(e+" "+S.join(r+" ")+r).split(" "),a(i,t,n))}var l="2.5.3",c={},h=!0,p=t.documentElement,d="modernizr",v=t.createElement(d),m=v.style,g,y={}.toString,b=" -webkit- -moz- -o- -ms- ".split(" "),w="Webkit Moz O ms",E=w.split(" "),S=w.toLowerCase().split(" "),x={},T={},N={},C=[],k=C.slice,L,A=function(e,n,r,i){var s,o,u,a=t.createElement("div"),f=t.body,l=f?f:t.createElement("body");if(parseInt(r,10))while(r--)u=t.createElement("div"),u.id=i?i[r]:d+(r+1),a.appendChild(u);return s=["&#173;","<style>",e,"</style>"].join(""),a.id=d,(f?a:l).innerHTML+=s,l.appendChild(a),f||(l.style.background="",p.appendChild(l)),o=n(a,e),f?a.parentNode.removeChild(a):l.parentNode.removeChild(l),!!o},O={}.hasOwnProperty,M;!s(O,"undefined")&&!s(O.call,"undefined")?M=function(e,t){return O.call(e,t)}:M=function(e,t){return t in e&&s(e.constructor.prototype[t],"undefined")},Function.prototype.bind||(Function.prototype.bind=function(e){var t=this;if(typeof t!="function")throw new TypeError;var n=k.call(arguments,1),r=function(){if(this instanceof r){var i=function(){};i.prototype=t.prototype;var s=new i,o=t.apply(s,n.concat(k.call(arguments)));return Object(o)===o?o:s}return t.apply(e,n.concat(k.call(arguments)))};return r});var _=function(e,n){var r=e.join(""),i=n.length;A(r,function(e,n){var r=t.styleSheets[t.styleSheets.length-1],s=r?r.cssRules&&r.cssRules[0]?r.cssRules[0].cssText:r.cssText||"":"",o=e.childNodes,u={};while(i--)u[o[i].id]=o[i];c.csstransforms3d=(u.csstransforms3d&&u.csstransforms3d.offsetLeft)===9&&u.csstransforms3d.offsetHeight===3},i,n)}([,["@media (",b.join("transform-3d),("),d,")","{#csstransforms3d{left:9px;position:absolute;height:3px;}}"].join("")],[,"csstransforms3d"]);x.csstransforms3d=function(){var e=!!f("perspective");return e&&"webkitPerspective"in p.style&&(e=c.csstransforms3d),e},x.csstransitions=function(){return f("transition")};for(var D in x)M(x,D)&&(L=D.toLowerCase(),c[L]=x[D](),C.push((c[L]?"":"no-")+L));return r(""),v=g=null,function(e,t){function n(e,t){var n=e.createElement("p"),r=e.getElementsByTagName("head")[0]||e.documentElement;return n.innerHTML="x<style>"+t+"</style>",r.insertBefore(n.lastChild,r.firstChild)}function r(){var e=l.elements;return typeof e=="string"?e.split(" "):e}function i(e){var t={},n=e.createElement,i=e.createDocumentFragment,s=i();e.createElement=function(e){var r=(t[e]||(t[e]=n(e))).cloneNode();return l.shivMethods&&r.canHaveChildren&&!u.test(e)?s.appendChild(r):r},e.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+r().join().replace(/\w+/g,function(e){return t[e]=n(e),s.createElement(e),'c("'+e+'")'})+");return n}")(l,s)}function s(e){var t;return e.documentShived?e:(l.shivCSS&&!a&&(t=!!n(e,"article,aside,details,figcaption,figure,footer,header,hgroup,nav,section{display:block}audio{display:none}canvas,video{display:inline-block;*display:inline;*zoom:1}[hidden]{display:none}audio[controls]{display:inline-block;*display:inline;*zoom:1}mark{background:#FF0;color:#000}")),f||(t=!i(e)),t&&(e.documentShived=t),e)}var o=e.html5||{},u=/^<|^(?:button|form|map|select|textarea)$/i,a,f;(function(){var e=t.createElement("a");e.innerHTML="<xyz></xyz>",a="hidden"in e,f=e.childNodes.length==1||function(){try{t.createElement("a")}catch(e){return!0}var n=t.createDocumentFragment();return typeof n.cloneNode=="undefined"||typeof n.createDocumentFragment=="undefined"||typeof n.createElement=="undefined"}()})();var l={elements:o.elements||"abbr article aside audio bdi canvas data datalist details figcaption figure footer header hgroup mark meter nav output progress section summary time video",shivCSS:o.shivCSS!==!1,shivMethods:o.shivMethods!==!1,type:"default",shivDocument:s};e.html5=l,s(t)}(this,t),c._version=l,c._prefixes=b,c._domPrefixes=S,c._cssomPrefixes=E,c.testProp=function(e){return u([e])},c.testAllProps=f,c.testStyles=A,p.className=p.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(h?" js "+C.join(" "):""),c}(this,this.document),function(e,t,n){function r(e){return d.call(e)=="[object Function]"}function i(e){return typeof e=="string"}function s(){}function o(e){return!e||e=="loaded"||e=="complete"||e=="uninitialized"}function u(){var e=v.shift();m=1,e?e.t?h(function(){(e.t=="c"?k.injectCss:k.injectJs)(e.s,0,e.a,e.x,e.e,1)},0):(e(),u()):m=0}function a(e,n,r,i,s,a,f){function l(t){if(!d&&o(c.readyState)&&(w.r=d=1,!m&&u(),c.onload=c.onreadystatechange=null,t)){e!="img"&&h(function(){b.removeChild(c)},50);for(var r in T[n])T[n].hasOwnProperty(r)&&T[n][r].onload()}}var f=f||k.errorTimeout,c={},d=0,g=0,w={t:r,s:n,e:s,a:a,x:f};T[n]===1&&(g=1,T[n]=[],c=t.createElement(e)),e=="object"?c.data=n:(c.src=n,c.type=e),c.width=c.height="0",c.onerror=c.onload=c.onreadystatechange=function(){l.call(this,g)},v.splice(i,0,w),e!="img"&&(g||T[n]===2?(b.insertBefore(c,y?null:p),h(l,f)):T[n].push(c))}function f(e,t,n,r,s){return m=0,t=t||"j",i(e)?a(t=="c"?E:w,e,t,this.i++,n,r,s):(v.splice(this.i++,0,e),v.length==1&&u()),this}function l(){var e=k;return e.loader={load:f,i:0},e}var c=t.documentElement,h=e.setTimeout,p=t.getElementsByTagName("script")[0],d={}.toString,v=[],m=0,g="MozAppearance"in c.style,y=g&&!!t.createRange().compareNode,b=y?c:p.parentNode,c=e.opera&&d.call(e.opera)=="[object Opera]",c=!!t.attachEvent&&!c,w=g?"object":c?"script":"img",E=c?"script":w,S=Array.isArray||function(e){return d.call(e)=="[object Array]"},x=[],T={},N={timeout:function(e,t){return t.length&&(e.timeout=t[0]),e}},C,k;k=function(e){function t(e){var e=e.split("!"),t=x.length,n=e.pop(),r=e.length,n={url:n,origUrl:n,prefixes:e},i,s,o;for(s=0;s<r;s++)o=e[s].split("="),(i=N[o.shift()])&&(n=i(n,o));for(s=0;s<t;s++)n=x[s](n);return n}function o(e,i,s,o,a){var f=t(e),c=f.autoCallback;f.url.split(".").pop().split("?").shift(),f.bypass||(i&&(i=r(i)?i:i[e]||i[o]||i[e.split("/").pop().split("?")[0]]||u),f.instead?f.instead(e,i,s,o,a):(T[f.url]?f.noexec=!0:T[f.url]=1,s.load(f.url,f.forceCSS||!f.forceJS&&"css"==f.url.split(".").pop().split("?").shift()?"c":n,f.noexec,f.attrs,f.timeout),(r(i)||r(c))&&s.load(function(){l(),i&&i(f.origUrl,a,o),c&&c(f.origUrl,a,o),T[f.url]=2})))}function a(e,t){function n(e,n){if(e){if(i(e))n||(f=function(){var e=[].slice.call(arguments);l.apply(this,e),c()}),o(e,f,t,0,u);else if(Object(e)===e)for(p in h=function(){var t=0,n;for(n in e)e.hasOwnProperty(n)&&t++;return t}(),e)e.hasOwnProperty(p)&&(!n&&!--h&&(r(f)?f=function(){var e=[].slice.call(arguments);l.apply(this,e),c()}:f[p]=function(e){return function(){var t=[].slice.call(arguments);e&&e.apply(this,t),c()}}(l[p])),o(e[p],f,t,p,u))}else!n&&c()}var u=!!e.test,a=e.load||e.both,f=e.callback||s,l=f,c=e.complete||s,h,p;n(u?e.yep:e.nope,!!a),a&&n(a)}var f,c,h=this.yepnope.loader;if(i(e))o(e,0,h,0);else if(S(e))for(f=0;f<e.length;f++)c=e[f],i(c)?o(c,0,h,0):S(c)?k(c):Object(c)===c&&a(c,h);else Object(e)===e&&a(e,h)},k.addPrefix=function(e,t){N[e]=t},k.addFilter=function(e){x.push(e)},k.errorTimeout=1e4,t.readyState==null&&t.addEventListener&&(t.readyState="loading",t.addEventListener("DOMContentLoaded",C=function(){t.removeEventListener("DOMContentLoaded",C,0),t.readyState="complete"},0)),e.yepnope=l(),e.yepnope.executeStack=u,e.yepnope.injectJs=function(e,n,r,i,a,f){var l=t.createElement("script"),c,d,i=i||k.errorTimeout;l.src=e;for(d in r)l.setAttribute(d,r[d]);n=f?u:n||s,l.onreadystatechange=l.onload=function(){!c&&o(l.readyState)&&(c=1,n(),l.onload=l.onreadystatechange=null)},h(function(){c||(c=1,n(1))},i),a?l.onload():p.parentNode.insertBefore(l,p)},e.yepnope.injectCss=function(e,n,r,i,o,a){var i=t.createElement("link"),f,n=a?u:n||s;i.href=e,i.rel="stylesheet",i.type="text/css";for(f in r)i.setAttribute(f,r[f]);o||(p.parentNode.insertBefore(i,p),h(n,0))}}(this,document),Modernizr.load=function(){yepnope.apply(window,[].slice.call(arguments,0))};(function(e){function t(e){var t=["Moz","Webkit","O","ms"],n=e.charAt(0).toUpperCase()+e.substr(1);if(e in l.style)return e;for(e=0;e<t.length;++e){var r=t[e]+n;if(r in l.style)return r}}function n(e){"string"===typeof e&&this.parse(e);return this}function r(e,t,n){!0===t?e.queue(n):t?e.queue(t,n):n()}function i(t){var n=[];e.each(t,function(t){t=e.camelCase(t);t=e.transit.propertyMap[t]||t;t=u(t);-1===e.inArray(t,n)&&n.push(t)});return n}function s(t,n,r,s){t=i(t);e.cssEase[r]&&(r=e.cssEase[r]);var o=""+f(n)+" "+r;0<parseInt(s,10)&&(o+=" "+f(s));var u=[];e.each(t,function(e,t){u.push(t+" "+o)});return u.join(", ")}function o(t,r){r||(e.cssNumber[t]=!0);e.transit.propertyMap[t]=c.transform;e.cssHooks[t]={get:function(r){return(e(r).css("transform")||new n).get(t)},set:function(r,i){var s=e(r).css("transform")||new n;s.setFromString(t,i);e(r).css({transform:s})}}}function u(e){return e.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})}function a(e,t){return"string"===typeof e&&!e.match(/^[\-0-9\.]+$/)?e:""+e+t}function f(t){e.fx.speeds[t]&&(t=e.fx.speeds[t]);return a(t,"ms")}e.transit={version:"0.1.3",propertyMap:{marginLeft:"margin",marginRight:"margin",marginBottom:"margin",marginTop:"margin",paddingLeft:"padding",paddingRight:"padding",paddingBottom:"padding",paddingTop:"padding"},enabled:!0,useTransitionEnd:!1};var l=document.createElement("div"),c={},h=-1<navigator.userAgent.toLowerCase().indexOf("chrome");c.transition=t("transition");c.transitionDelay=t("transitionDelay");c.transform=t("transform");c.transformOrigin=t("transformOrigin");l.style[c.transform]="";l.style[c.transform]="rotateY(90deg)";c.transform3d=""!==l.style[c.transform];e.extend(e.support,c);var p=c.transitionEnd={MozTransition:"transitionend",OTransition:"oTransitionEnd",WebkitTransition:"webkitTransitionEnd",msTransition:"MSTransitionEnd"}[c.transition]||null,l=null;e.cssEase={_default:"ease","in":"ease-in",out:"ease-out","in-out":"ease-in-out",snap:"cubic-bezier(0,1,.5,1)"};e.cssHooks.transform={get:function(t){return e(t).data("transform")},set:function(t,r){var i=r;i instanceof n||(i=new n(i));t.style[c.transform]="WebkitTransform"===c.transform&&!h?i.toString(!0):i.toString();e(t).data("transform",i)}};e.cssHooks.transformOrigin={get:function(e){return e.style[c.transformOrigin]},set:function(e,t){e.style[c.transformOrigin]=t}};o("scale");o("translate");o("rotate");o("rotateX");o("rotateY");o("rotate3d");o("perspective");o("skewX");o("skewY");o("x",!0);o("y",!0);n.prototype={setFromString:function(e,t){var r="string"===typeof t?t.split(","):t.constructor===Array?t:[t];r.unshift(e);n.prototype.set.apply(this,r)},set:function(e){var t=Array.prototype.slice.apply(arguments,[1]);this.setter[e]?this.setter[e].apply(this,t):this[e]=t.join(",")},get:function(e){return this.getter[e]?this.getter[e].apply(this):this[e]||0},setter:{rotate:function(e){this.rotate=a(e,"deg")},rotateX:function(e){this.rotateX=a(e,"deg")},rotateY:function(e){this.rotateY=a(e,"deg")},scale:function(e,t){void 0===t&&(t=e);this.scale=e+","+t},skewX:function(e){this.skewX=a(e,"deg")},skewY:function(e){this.skewY=a(e,"deg")},perspective:function(e){this.perspective=a(e,"px")},x:function(e){this.set("translate",e,null)},y:function(e){this.set("translate",null,e)},translate:function(e,t){void 0===this._translateX&&(this._translateX=0);void 0===this._translateY&&(this._translateY=0);null!==e&&(this._translateX=a(e,"px"));null!==t&&(this._translateY=a(t,"px"));this.translate=this._translateX+","+this._translateY}},getter:{x:function(){return this._translateX||0},y:function(){return this._translateY||0},scale:function(){var e=(this.scale||"1,1").split(",");e[0]&&(e[0]=parseFloat(e[0]));e[1]&&(e[1]=parseFloat(e[1]));return e[0]===e[1]?e[0]:e},rotate3d:function(){for(var e=(this.rotate3d||"0,0,0,0deg").split(","),t=0;3>=t;++t)e[t]&&(e[t]=parseFloat(e[t]));e[3]&&(e[3]=a(e[3],"deg"));return e}},parse:function(e){var t=this;e.replace(/([a-zA-Z0-9]+)\((.*?)\)/g,function(e,n,r){t.setFromString(n,r)})},toString:function(e){var t=[],n;for(n in this)if(this.hasOwnProperty(n)&&(c.transform3d||!("rotateX"===n||"rotateY"===n||"perspective"===n||"transformOrigin"===n)))"_"!==n[0]&&(e&&"scale"===n?t.push(n+"3d("+this[n]+",1)"):e&&"translate"===n?t.push(n+"3d("+this[n]+",0)"):t.push(n+"("+this[n]+")"));return t.join(" ")}};e.fn.transition=e.fn.transit=function(t,n,i,o){var u=this,a=0,l=!0;"function"===typeof n&&(o=n,n=void 0);"function"===typeof i&&(o=i,i=void 0);"undefined"!==typeof t.easing&&(i=t.easing,delete t.easing);"undefined"!==typeof t.duration&&(n=t.duration,delete t.duration);"undefined"!==typeof t.complete&&(o=t.complete,delete t.complete);"undefined"!==typeof t.queue&&(l=t.queue,delete t.queue);"undefined"!==typeof t.delay&&(a=t.delay,delete t.delay);"undefined"===typeof n&&(n=e.fx.speeds._default);"undefined"===typeof i&&(i=e.cssEase._default);var n=f(n),h=s(t,n,i,a),d=e.transit.enabled&&c.transition?parseInt(n,10)+parseInt(a,10):0;if(0===d)return r(u,l,function(e){u.css(t);o&&o();e()}),u;var v={},m=function(n){var r=!1,i=function(){r&&u.unbind(p,i);0<d&&u.each(function(){this.style[c.transition]=v[this]||null});"function"===typeof o&&o.apply(u);"function"===typeof n&&n()};0<d&&p&&e.transit.useTransitionEnd?(r=!0,u.bind(p,i)):window.setTimeout(i,d);u.each(function(){0<d&&(this.style[c.transition]=h);e(this).css(t)})};r(u,l,function(e){var t=0;"MozTransition"===c.transition&&25>t&&(t=25);window.setTimeout(function(){m(e)},t)});return this};e.transit.getTransitionValue=s})(jQuery);(function(e,t){"use strict";var n="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==";e.fn.imagesLoaded=function(r){function i(){var t=e(c),n=e(h);if(u){if(h.length){u.reject(f,t,n)}else{u.resolve(f)}}if(e.isFunction(r)){r.call(o,f,t,n)}}function s(t,r){if(t.src===n||e.inArray(t,l)!==-1){return}l.push(t);if(r){h.push(t)}else{c.push(t)}e.data(t,"imagesLoaded",{isBroken:r,src:t.src});if(a){u.notifyWith(e(t),[r,f,e(c),e(h)])}if(f.length===l.length){setTimeout(i);f.unbind(".imagesLoaded")}}var o=this,u=e.isFunction(e.Deferred)?e.Deferred():0,a=e.isFunction(u.notify),f=o.find("img").add(o.filter("img")),l=[],c=[],h=[];if(!f.length){i()}else{f.bind("load.imagesLoaded error.imagesLoaded",function(e){s(e.target,e.type==="error")}).each(function(r,i){var o=i.src;var u=e.data(i,"imagesLoaded");if(u&&u.src===o){s(i,u.isBroken);return}if(i.complete&&i.naturalWidth!==t){s(i,i.naturalWidth===0||i.naturalHeight===0);return}if(i.readyState||i.complete){i.src=n;i.src=o}})}return u?u.promise(o):o}})(jQuery);(function(e){function t(t){function r(){if(t){u.removeData(t)}else{if(h){delete n[h]}}}function s(){a.id=setTimeout(function(){a.fn()},p)}var o=this,u,a={},f=t?e.fn:e,l=arguments,c=4,h=l[1],p=l[2],d=l[3];if(typeof h!=="string"){c--;h=t=0;p=l[1];d=l[2]}if(t){u=o.eq(0);u.data(t,a=u.data(t)||{})}else{if(h){a=n[h]||(n[h]={})}}a.id&&clearTimeout(a.id);delete a.id;if(d){a.fn=function(e){if(typeof d==="string"){d=f[d]}d.apply(o,i.call(l,c))===true&&!e?s():r()};s()}else{if(a.fn){p===undefined?r():a.fn(p===false);return true}else{r()}}}var n={},r="doTimeout",i=Array.prototype.slice;e[r]=function(){return t.apply(window,[0].concat(i.call(arguments)))};e.fn[r]=function(){var e=i.call(arguments),n=t.apply(this,[r+e[0]].concat(e));return typeof e[0]==="number"||typeof e[1]==="number"?this:n}})(jQuery);(function(e,t){"use strict";e.GridGallery=function(t,n){this.$list=e(n);this._init(t)};e.GridGallery.defaults={lines:true,speed:900,hideSpeed:700,lineSpeed:700,fadeSpeed:1e3};e.GridGallery.prototype={_init:function(t){var n=this;this.options=e.extend(true,{},e.GridGallery.defaults,t);this.current=0;this.isAnimating=false;this.support=Modernizr.csstransforms3d&&Modernizr.csstransitions;this._layout();this.$list.imagesLoaded(function(){n.$list.remove();n._saveSlides();n._grid();n._addNavigation();n._initEvents();setTimeout(function(){n._showSlide(n.current)},500);n.$loader.hide()})},_saveSlides:function(){var t=this.$list.children("li");this.slidesCount=t.length;this.slides=[];for(var n=0;n<this.slidesCount;++n){var r=t.eq(n),i=r.children();this.slides[n]={w:r.data("w"),h:r.data("h"),boxesCount:i.length,content:i.map(function(){var t=e(this);return{title:t.attr("title"),src:t.attr("src"),inner:t.html(),rotateX:t.data("rotateX")|0,rotateY:t.data("rotateY")|0,rotateZ:t.data("rotateZ")|0,translateX:t.data("translateX")|0,translateY:t.data("translateY")|0,translateZ:t.data("translateZ")|0,isImage:t.is("img")}})}}},_layout:function(){this.$gridWrapper=e('<div class="sg-wrapper"></div>');this.$gridWrapper.insertBefore(this.$list);this.$loader=e('<div class="sg-loading"></div> ').appendTo(this.$gridWrapper)},_grid:function(){this.$box1=e('<a class="sg-box sg-box-1" href="/hospitality/"></a>');this.$box2=e('<a class="sg-box sg-box-2" href="/promotions-gifting/"></a>');this.$box3=e('<a class="sg-box sg-box-3" href="/about-us/"></a>');this.$box4=e('<a class="sg-box sg-box-4" href="/about-us/"></a>');this.$gridWrapper.append(this.$box1,this.$box2,this.$box3,this.$box4);this.$gridBoxes=this.$gridWrapper.children("div.sg-box");if(this.options.lines){this._addGridLines();this._moveGridLines("50%","50%")}},_addGridLines:function(){var t={opacity:0},n={opacity:.5};this.$gridLineH=e('<div class="sg-line-hor"></div>').css(t);this.$gridLineV=e('<div class="sg-line-ver"></div>').css(t);this.$gridWrapper.append(this.$gridLineH.transition(n,this.options.fadeSpeed),this.$gridLineV.transition(n,this.options.fadeSpeed))},_moveGridLines:function(t,n,r){var i=this;return e.Deferred(function(e){if(i.options.lines){if(r){var s=i.$gridLineV.css("left"),o=i.$gridLineH.css("top");if(s===t&&o===n){e.resolve()}else if(s===t&&o!==n){i.$gridLineV.transition({left:t},i.options.lineSpeed);i.$gridLineH.transition({top:n},i.options.lineSpeed,e.resolve)}else{i.$gridLineV.transition({left:t},i.options.lineSpeed,e.resolve);i.$gridLineH.transition({top:n},i.options.lineSpeed)}}else{i.$gridLineV.css("left",t);i.$gridLineH.css("top",n);e.resolve()}}else{e.resolve()}}).promise()},_addNavigation:function(){if(this.slidesCount>1){this.$nav=e('<nav class="sg-nav"></nav>').css("opacity",0);this.$navPrev=e('<span class="sg-prev"></span>').appendTo(this.$nav);for(var t=0;t<this.slidesCount;++t){var n="sg-dot";if(t===0)n+=" sg-dot-current";this.$nav.append('<span class="'+n+'"></span>')}this.$navNext=e('<span class="sg-next"></span>').appendTo(this.$nav);this.$gridWrapper.append(this.$nav.transition({opacity:1},this.options.fadeSpeed));this.$dots=this.$nav.children("span.sg-dot")}},_showSlide:function(t){this.isAnimating=true;var n=this,r=this.slides[t],i=r.w,s=r.h,o=r.boxesCount,u=r.content,a,f,l={width:"0%",height:"0%"};switch(o){case 4:case 3:a=i+"%";f=s+"%";break;case 2:if(i===100){a="105%";f=s+"%";this.$box2.css(l);this.$box4.css(l)}else if(s===100){a=i+"%";f="105%";this.$box3.css(l);this.$box4.css(l)}break;case 1:a=i+5+"%";f=s+5+"%";this.$box2.css(l);this.$box3.css(l);this.$box4.css(l);break}this._hideSlide();e.when(n._moveGridLines(a,f,true)).done(function(){for(var t=0;t<o;++t){var r=u[t],a=e("<div/>"),f="translateX("+r.translateX+"px) translateY("+r.translateY+"px) translateZ("+r.translateZ+"px) rotateX("+r.rotateX+"deg) rotateY("+r.rotateY+"deg) rotateZ("+r.rotateZ+"deg)",l={"-webkit-transition":"none","-moz-transition":"none","-o-transition":"none","-ms-transition":"none",transition:"none",opacity:0,"-webkit-transform":f,"-moz-transform":f,"-o-transform":f,"-ms-transform":f,transform:f};if(r.isImage){l.backgroundImage="url("+r.src+")";a.append("<h2>"+r.title+"</h2>")}else{a.html(r.inner)}var c=e('<div class="sg-panel"></div>').append(a.css(l)),h,p;switch(t){case 0:h=n.$box1;p={width:i+"%",height:s+"%"};break;case 1:if(o===2&&i===100){h=n.$box3;p={width:i+"%",height:100-s+"%",top:s+"%"}}else{h=n.$box2;p={width:100-i+"%",height:s+"%",left:i+"%"}}break;case 2:h=n.$box3;p={width:i+"%",height:100-s+"%",top:s+"%"};break;case 3:h=n.$box4;p={width:100-i+"%",height:100-s+"%",left:i+"%",top:s+"%"};break}h.empty().css(p).append(c);var d="rotateX(0deg) rotateY(0deg) rotateZ(0deg) translateX(0px) translateY(0px) translateZ(0px)",v="all "+n.options.speed+"ms ease";a.doTimeout(1,function(){this.css({"-webkit-transition":v,"-moz-transition":v,"-o-transition":v,"-ms-transition":v,transition:v,opacity:1,"-webkit-transform":d,"-moz-transform":d,"-o-transform":d,"-ms-transform":d,transform:d});n.support?this.on("webkitTransitionEnd.gridgallery transitionend.gridgallery oTransitionEnd.gridgallery",function(){e(this).css({"-webkit-transition":"none","-moz-transition":"none","-o-transition":"none","-ms-transition":"none",transition:"none"});n.isAnimating=false}):n.isAnimating=false})}})},_hideSlide:function(){var t=this;return e.Deferred(function(e){var n=t.$gridBoxes.children("div.sg-panel");n.length>0?n.transition({opacity:0},t.options.hideSpeed,e.resolve):e.resolve()}).promise()},_initEvents:function(){var t=this;this.$navNext.on("click.gridgallery",function(e){if(!t.isAnimating){t.current>=t.slidesCount-1?t.current=0:++t.current;t._showSlide(t.current);t._updateNavigation()}});this.$navPrev.on("click.gridgallery",function(e){if(!t.isAnimating){t.current===0?t.current=t.slidesCount-1:--t.current;t._showSlide(t.current);t._updateNavigation()}});this.$dots.on("click.gridgallery",function(n){if(!t.isAnimating){var r=e(this),i=r.index()-1;t._updateNavigation(r);if(t.current===i){return false}t.current=i;t._showSlide(t.current)}})},_updateNavigation:function(e){var e=e||this.$dots.eq(this.current);this.$dots.removeClass("sg-dot-current");e.addClass("sg-dot-current")}};var n=function(e){if(this.console){console.error(e)}};e.fn.gridgallery=function(t){if(typeof t==="string"){var r=Array.prototype.slice.call(arguments,1);this.each(function(){var i=e.data(this,"gridgallery");if(!i){n("cannot call methods on gridgallery prior to initialization; "+"attempted to call method '"+t+"'");return}if(!e.isFunction(i[t])||t.charAt(0)==="_"){n("no such method '"+t+"' for gridgallery instance");return}i[t].apply(i,r)})}else{this.each(function(){var n=e.data(this,"gridgallery");if(!n){e.data(this,"gridgallery",new e.GridGallery(t,this))}})}return this}})(jQuery)